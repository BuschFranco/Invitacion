---
const nombreP = "Lucía Luján"
import Intro from '../components/Intro.astro';
import Layout from '../layouts/Layout.astro';
import RsvpForm from '../components/RsvpForm.astro';

// Welcome to Astro! Wondering what to do next? Check out the Astro documentation at https://docs.astro.build
// Don't want to use any of this? Delete everything in this file, the `assets`, `components`, and `layouts` directories, and start fresh.
---

<Layout>
	<div class="container conteinerTop">
		<div class="invitation-header">
			<h2 class="title">¡Te invito a mi fiesta de cumpleaños!</h2>
			<h3 class="name">{nombreP}</h3>
			<div class="date-location">
				<p><i class="fa-regular fa-calendar"></i> Sábado, 6 de septiembre de 2025</p>
				<p><i class="fa-solid fa-location-dot"></i> Banfield, Ciudad Autónoma de Buenos Aires</p>
			</div>
		</div>

		<div class="message">
			<h3>Celebro mi primer añito con las personas que me van a acompañar el resto de mi vida</h3>
		</div>

		<div class="photo-container">
			<img src="picuno.jpg" class="imguno" alt="Foto de {nombreP}">
		</div>

		<!-- Countdown movido aquí, justo después de la foto -->
		<div class="countdown-section">
			<h2>Para que festejemos, faltan...</h2>
			<div class="countdown" id="countdown">
				<div class="countdown-item">
					<span id="days">00</span>
					<span class="countdown-label">Días</span>
				</div>
				<div class="countdown-item">
					<span id="hours">00</span>
					<span class="countdown-label">Horas</span>
				</div>
				<div class="countdown-item">
					<span id="minutes">00</span>
					<span class="countdown-label">Minutos</span>
				</div>
				<div class="countdown-item">
					<span id="seconds">00</span>
					<span class="countdown-label">Segundos</span>
				</div>
			</div>
		</div>

		<div class="event-details">
			<h2>Recepción</h2>
			<p><i class="fa-regular fa-clock"></i> 13:00, Malaku Eventos</p>
			<p><i class="fa-solid fa-map-pin"></i> Bynnon 2368, José Mármol</p>
			<a id="asistencia" href="#rsvp-section" class="confirmation"> Confirmar Asistencia</a>
			
			<!-- Mapa movido dentro de la sección de recepción -->
			<div id="ubicacion" class="map-container">
				<h3><i class="fa-solid fa-location-dot"></i> Ubicación</h3>
				<iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3276.5851531305957!2d-58.3768925!3d-34.79121750000001!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x95bcd3341b6014f7%3A0x853ba324a9ff8c66!2sMalaku%20Eventos!5e0!3m2!1ses!2sar!4v1755103558734!5m2!1ses!2sar" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
			</div>
		</div>

		<div id="regalo" class="gift-section">
			<h2>Regalo</h2>
			<p><i class="fa-solid fa-gift"></i> Mi mayor y preciado regalo, es tu presencia</p>
		</div>
	</div>

<div class="container conteinerMid">
	<div class="celebration-message">
		<h3>¡Más que un simple cumpleaños, el primero!</h3>
		<h2>Deseo poder compartirlo con ustedes, y que lo disfruten conmigo, ¡que la pasen todos bien!</h2>
	</div>
</div>

<div class="container conteinerBottom">
	<RsvpForm />
</div>


<Intro />
	
</Layout>

<script>
	// Función para calcular y actualizar la cuenta regresiva
	function updateCountdown() {
		// Fecha del evento (6 de septiembre de 2025)
		const eventDate = new Date('September 6, 2025 13:00:00').getTime();
		// Fecha actual
		const now = new Date().getTime();
		// Diferencia de tiempo
		const timeLeft = eventDate - now;

		// Cálculos para días, horas, minutos y segundos
		const days = Math.floor(timeLeft / (1000 * 60 * 60 * 24));
		const hours = Math.floor((timeLeft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
		const minutes = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));
		const seconds = Math.floor((timeLeft % (1000 * 60)) / 1000);

		// Actualizar los elementos HTML
		document.getElementById('days').textContent = days.toString().padStart(2, '0');
		document.getElementById('hours').textContent = hours.toString().padStart(2, '0');
		document.getElementById('minutes').textContent = minutes.toString().padStart(2, '0');
		document.getElementById('seconds').textContent = seconds.toString().padStart(2, '0');

		// Si la fecha ya pasó
		if (timeLeft < 0) {
			document.getElementById('days').textContent = '00';
			document.getElementById('hours').textContent = '00';
			document.getElementById('minutes').textContent = '00';
			document.getElementById('seconds').textContent = '00';
			clearInterval(countdownInterval);
		}
	}

	// Actualizar la cuenta regresiva cada segundo
	const countdownInterval = setInterval(updateCountdown, 1000);

	// Inicializar la cuenta regresiva inmediatamente
	updateCountdown();


</script>


<style>
	/* Estilos generales */
	.container {
		max-width: 1200px;
		margin: 2rem auto;
		padding: 2rem;
		border-radius: var(--container-border-radius);
		box-shadow: var(--box-shadow);
		text-align: center;
	}

	#asistencia{
		cursor: pointer;
	}

	/* Estilos para la sección superior */
	.conteinerTop {
		background-color: var(--secondary-color);
		padding: 2rem;
	}

	.invitation-header {
		margin-bottom: 2rem;
	}

	.title {
		font-size: 2.5rem;
		color: var(--accent-color);
		margin-bottom: 1rem;
		text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.2);
	}

	.name {
		font-size: 3rem;
		color: var(--text-color);
		margin-bottom: 1.5rem;
	}

	.date-location {
		margin: 1.5rem 0;
	}

	.date-location p {
		font-size: 1.5rem;
		margin: 0.5rem 0;
	}

	.message h3 {
		font-size: 1.8rem;
		font-style: italic;
		color: var(--text-color);
		margin: 1.5rem 0;
	}

	.photo-container {
		margin: 2rem 0;
	}

	.imguno {
		max-width: 80%;
		border-radius: 15px;
		box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
		transition: transform 0.3s ease;
	}

	.imguno:hover {
		transform: scale(1.02);
	}

	.event-details, .gift-section {
		margin: 2rem 0;
		padding: 1.5rem;
		background-color: rgba(255, 255, 255, 0.7);
		border-radius: 10px;
	}

	.event-details h2, .gift-section h2 {
		color: var(--accent-color);
		font-size: 2rem;
		margin-bottom: 1rem;
	}

	.event-details p, .gift-section p {
		font-size: 1.3rem;
		margin: 0.7rem 0;
	}

	.confirmation {
		font-weight: bold;
		font-size: 1.3rem;
		color: var(--accent-color);
		display: inline-block;
		text-decoration: none;
		background-color: var(--accent-color);
		color: white;
		padding: 1rem 2rem;
		border-radius: 30px;
		margin: .5rem 0;
		transition: all 0.3s ease;
		box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);

		&:hover {
			background-color: var(--primary-color);
			transform: translateY(-2px);
			box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
		}

		&:active {
			transform: translateY(0);
			box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
		}
	}

	/* Estilos para la sección media */
	.conteinerMid {
		background-color: var(--primary-color);
		color: white;
		margin-top: 2rem;
	}

	.celebration-message h3 {
		font-size: 2.2rem;
		margin-bottom: 1rem;
	}

	.celebration-message h2 {
		font-size: 1.5rem;
		font-weight: 400;
		margin-bottom: 2rem;
	}

	.countdown-section {
		background-color: var(--primary-color);
		color: white;
		padding: 1.5rem;
		border-radius: 10px;
		margin: 2rem 0;
	}

	.countdown-section h2 {
		font-size: 1.8rem;
		margin-bottom: 1.5rem;
	}

	.countdown {
		display: flex;
		justify-content: center;
		gap: 1.5rem;
		margin: 2rem 0;
	}

	.countdown-item {
		display: flex;
		flex-direction: column;
		align-items: center;
	}

	.countdown-item span:first-child {
		font-size: 2.5rem;
		font-weight: bold;
		background-color: rgba(255, 255, 255, 0.2);
		border-radius: 8px;
		padding: 0.5rem 1rem;
		min-width: 70px;
		text-align: center;
	}

	.countdown-label {
		font-size: 1rem;
		margin-top: 0.5rem;
	}

	/* Estilos para la sección inferior */
	.conteinerBottom {
		background-color: white;
		margin-top: 2rem;
	}

	.location-section h3 {
		font-size: 2rem;
		color: var(--primary-color);
		margin-bottom: 1.5rem;
	}

	.map-container {
		margin: 1.5rem 0;
		border-radius: 10px;
		overflow: hidden;
	}

	.map-container h3 {
		font-size: 1.5rem;
		color: var(--primary-color);
		margin-bottom: 1rem;
		margin-top: 0rem;
	}

	.map-container iframe {
		width: 100%;
		height: 400px;
		border: none;
	}



	/* Media queries para responsividad */
	@media (max-width: 768px) {
		.container {
			padding: 1.5rem;
			margin: 1rem;
		}

		.title {
			font-size: 2rem;
		}

		.name {
			font-size: 2.5rem;
		}

		.date-location p {
			font-size: 1.2rem;
		}

		.message h3 {
			font-size: 1.5rem;
		}

		.imguno {
			max-width: 90%;
		}

		.countdown {
			gap: 1rem;
		}

		.countdown-item span:first-child {
			font-size: 2rem;
			min-width: 60px;
		}

		.map-container iframe {
			height: 300px;
		}
	}

	@media (max-width: 480px) {
		.container {
			padding: 1rem;
			margin: 0.5rem;
		}

		.title {
			font-size: 1.8rem;
		}

		.name {
			font-size: 2rem;
		}

		.date-location p {
			font-size: 1rem;
		}

		.message h3 {
			font-size: 1.2rem;
		}

		.event-details h2, .gift-section h2, .rsvp-section h2 {
			font-size: 1.5rem;
		}

		.event-details p, .gift-section p {
			font-size: 1rem;
		}

		.countdown {
			flex-wrap: wrap;
		}

		.countdown-item {
			margin: 0.5rem;
		}

		.countdown-item span:first-child {
			font-size: 1.5rem;
			min-width: 50px;
			padding: 0.3rem 0.8rem;
		}

		.map-container iframe {
			height: 250px;
		}

		.rsvp-button {
			padding: 0.6rem 1.5rem;
			font-size: 1rem;
		}
	}
</style>