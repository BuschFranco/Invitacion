---
const nombreP = "Lucía Luján"
import Intro from '../components/Intro.astro';
import Layout from '../layouts/Layout.astro';
import RsvpForm from '../components/RsvpForm.astro';

// Welcome to Astro! Wondering what to do next? Check out the Astro documentation at https://docs.astro.build
// Don't want to use any of this? Delete everything in this file, the `assets`, `components`, and `layouts` directories, and start fresh.
---

<Layout>
	<div id="inicio" class="container conteinerTop">
		<div class="invitation-header">
			<h2 class="title">¡Te invito a mi fiesta de cumpleaños!</h2>
			<h3 class="name">{nombreP}</h3>
			<div class="date-location">
				<p><i class="fa-regular fa-calendar"></i> Sábado, 6 de septiembre de 2025</p>
				<p><i class="fa-solid fa-location-dot"></i> Banfield, Ciudad Autónoma de Buenos Aires</p>
			</div>
		</div>

		<div class="message">
			<h3>Celebro mi primer añito con las personas que me van a acompañar el resto de mi vida</h3>
		</div>

		<div class="photo-container">
			<img src="picuno.jpg" class="imguno" alt="Foto de {nombreP}">
		</div>

		<!-- Countdown movido aquí, justo después de la foto -->
		<div id="countdown" class="countdown-section">
			<h2>Para que festejemos, faltan...</h2>
			<div class="countdown" id="countdown">
				<div class="countdown-item">
					<span id="days">00</span>
					<span class="countdown-label">Días</span>
				</div>
				<div class="countdown-item">
					<span id="hours">00</span>
					<span class="countdown-label">Horas</span>
				</div>
				<div class="countdown-item">
					<span id="minutes">00</span>
					<span class="countdown-label">Minutos</span>
				</div>
				<div class="countdown-item">
					<span id="seconds">00</span>
					<span class="countdown-label">Segundos</span>
				</div>
			</div>
		</div>

		<div class="event-details">
			<h2>Recepción</h2>
			<p><i class="fa-regular fa-clock"></i> 13:00, Malaku Eventos</p>
			<p><i class="fa-solid fa-map-pin"></i> Bynnon 2368, José Mármol</p>
			<a id="asistencia" href="#rsvp-section" class="confirmation"> Confirmar Asistencia</a>
			
			<!-- Mapa movido dentro de la sección de recepción -->
			<div id="ubicacion" class="map-container">
				<h3><i class="fa-solid fa-location-dot"></i> Ubicación</h3>
				<iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3276.5851531305957!2d-58.3768925!3d-34.79121750000001!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x95bcd3341b6014f7%3A0x853ba324a9ff8c66!2sMalaku%20Eventos!5e0!3m2!1ses!2sar!4v1755103558734!5m2!1ses!2sar" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
			</div>
		</div>

		<!-- Galería de imágenes tipo slider -->
		<div class="gallery-section">
			<h2>Galería de Fotos</h2>
			<div class="slider-container">
				<div class="slider">
					<div class="slide active">
						<img src="picuno.jpg" alt="Foto 1 de Lucía">
					</div>
					<div class="slide">
						<img src="picuno.jpg" alt="Foto 2 de Lucía">
					</div>
					<div class="slide">
						<img src="picuno.jpg" alt="Foto 3 de Lucía">
					</div>
					<div class="slide">
						<img src="picuno.jpg" alt="Foto 4 de Lucía">
					</div>
				</div>
				<button class="slider-btn prev-btn">
					<i class="fa-solid fa-chevron-left"></i>
				</button>
				<button class="slider-btn next-btn">
					<i class="fa-solid fa-chevron-right"></i>
				</button>
				<div class="slider-dots">
					<span class="dot active" onclick="currentSlide(1)"></span>
					<span class="dot" onclick="currentSlide(2)"></span>
					<span class="dot" onclick="currentSlide(3)"></span>
					<span class="dot" onclick="currentSlide(4)"></span>
				</div>
			</div>
		</div>
	</div>

<div class="container conteinerMid">
	<div class="celebration-message">
		<h3>¡Más que un simple cumpleaños, el primero!</h3>
		<h2>Deseo poder compartirlo con ustedes, y que lo disfruten conmigo, ¡que la pasen todos bien!</h2>
	</div>
</div>

<div class="container conteinerBottom">
	<RsvpForm />
</div>


<Intro />
	
</Layout>

<script>
	// Función para calcular y actualizar la cuenta regresiva
	function updateCountdown() {
		// Fecha del evento (6 de septiembre de 2025)
		const eventDate = new Date('September 6, 2025 13:00:00').getTime();
		// Fecha actual
		const now = new Date().getTime();
		// Diferencia de tiempo
		const timeLeft = eventDate - now;

		// Cálculos para días, horas, minutos y segundos
		const days = Math.floor(timeLeft / (1000 * 60 * 60 * 24));
		const hours = Math.floor((timeLeft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
		const minutes = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));
		const seconds = Math.floor((timeLeft % (1000 * 60)) / 1000);

		// Actualizar los elementos HTML
		document.getElementById('days').textContent = days.toString().padStart(2, '0');
		document.getElementById('hours').textContent = hours.toString().padStart(2, '0');
		document.getElementById('minutes').textContent = minutes.toString().padStart(2, '0');
		document.getElementById('seconds').textContent = seconds.toString().padStart(2, '0');

		// Si la fecha ya pasó
		if (timeLeft < 0) {
			document.getElementById('days').textContent = '00';
			document.getElementById('hours').textContent = '00';
			document.getElementById('minutes').textContent = '00';
			document.getElementById('seconds').textContent = '00';
			clearInterval(countdownInterval);
		}
	}

	// Actualizar la cuenta regresiva cada segundo
	const countdownInterval = setInterval(updateCountdown, 1000);

	// Inicializar la cuenta regresiva inmediatamente
	updateCountdown();

	// Funciones para el slider de la galería
	let currentSlideIndex = 0;
	const slides = document.querySelectorAll('.slide');
	const dots = document.querySelectorAll('.dot');
	const prevBtn = document.querySelector('.prev-btn');
	const nextBtn = document.querySelector('.next-btn');

	function showSlide(index) {
		// Remover clase active, prev y next de todos los slides
		slides.forEach(slide => {
			slide.classList.remove('active', 'prev', 'next');
		});
		dots.forEach(dot => dot.classList.remove('active'));

		// Calcular índices de slides previo y siguiente
		let prevIndex = index - 1;
		let nextIndex = index + 1;

		// Ajustar índices si están fuera de rango
		if (prevIndex < 0) prevIndex = slides.length - 1;
		if (nextIndex >= slides.length) nextIndex = 0;

		// Agregar clases correspondientes
		slides[index].classList.add('active');
		slides[prevIndex].classList.add('prev');
		slides[nextIndex].classList.add('next');
		dots[index].classList.add('active');
	}

	function changeSlide(direction) {
		currentSlideIndex += direction;

		// Controlar los límites del slider
		if (currentSlideIndex >= slides.length) {
			currentSlideIndex = 0;
		} else if (currentSlideIndex < 0) {
			currentSlideIndex = slides.length - 1;
		}

		showSlide(currentSlideIndex);
	}

	function currentSlide(index) {
		currentSlideIndex = index - 1;
		showSlide(currentSlideIndex);
	}

	// Agregar event listeners a los botones
	if (prevBtn && nextBtn) {
		prevBtn.addEventListener('click', () => changeSlide(-1));
		nextBtn.addEventListener('click', () => changeSlide(1));
	}

	// Inicializar el slider
	document.addEventListener('DOMContentLoaded', () => {
		showSlide(currentSlideIndex);
	});

	// Auto-play del slider (opcional)
	setInterval(() => {
		changeSlide(1);
	}, 5000); // Cambia cada 5 segundos


</script>


<style>
	/* Estilos generales */
	.container {
		max-width: 1200px;
		margin: 2rem auto;
		padding: 2rem;
		border-radius: var(--container-border-radius);
		box-shadow: var(--box-shadow);
		text-align: center;
	}

	#asistencia{
		cursor: pointer;
	}

	/* Estilos para la sección superior */
	.conteinerTop {
		background: linear-gradient(135deg, #ffd1dc, #ffe4ec); /* degradado suave */
		padding: 2rem;
		margin-top: 4rem;
	}

	.invitation-header {
		margin-bottom: 2rem;
	}

	.title {
		font-size: 2.5rem;
		color: var(--accent-color);
		margin-bottom: 1rem;
		text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.2);
	}

	.name {
		font-size: 3rem;
		font-style: italic;
		color: white;
		margin-bottom: 1.5rem;
		margin-top: 0;
		text-shadow: 0 .1rem .4rem black;
	}

	.date-location {
		display: inline-block;
		padding: .4rem 1.2rem;
		background-color: white;
		border-radius: .8rem;
	}

	.date-location p {
		font-size: 1.5rem;
		margin: 0.5rem 0;
	}

	.message h3 {
		font-size: 1.4rem;
		font-style: italic;
		color: var(--text-color);
		margin: 1.5rem 0;
	}

	.photo-container {
		margin: 2rem 0;
	}

	.imguno {
		max-width: 80%;
		border-radius: 15px;
		box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
		transition: transform 0.3s ease;
	}

	.imguno:hover {
		transform: scale(1.02);
	}

	.event-details{
		margin: 2rem 0;
		padding: 1.5rem;
		background-color: rgba(255, 255, 255, 0.7);
		border-radius: 10px;
	}

	.event-details h2{
		color: var(--accent-color);
		font-size: 2rem;
		margin-bottom: 1rem;
	}

	.event-details h2{
		margin-top: 0;
	}

	.event-details p{
		font-size: 1.3rem;
		margin: 0.7rem 0;
	}

	.confirmation {
		font-weight: bold;
		font-size: 1.3rem;
		color: var(--accent-color);
		display: inline-block;
		text-decoration: none;
		background-color: var(--accent-color);
		color: white;
		padding: 1rem 2rem;
		border-radius: 30px;
		margin: .5rem 0;
		transition: all 0.3s ease;
		box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);

		&:hover {
			background-color: var(--primary-color);
			transform: translateY(-2px);
			box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
		}

		&:active {
			transform: translateY(0);
			box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
		}
	}

	/* Estilos para la sección media */
	.conteinerMid {
		background-color: var(--primary-color);
		color: white;
		margin-top: 2rem;
	}

	.celebration-message h3 {
		font-size: 2.2rem;
		margin-bottom: 1rem;
	}

	.celebration-message h2 {
		font-size: 1.5rem;
		font-weight: 400;
		margin-bottom: 2rem;
	}

	.countdown-section {
		display: inline-block;
		width: 65%;
		background-color: var(--primary-color);
		color: white;
		padding: .5rem;
		border-radius: 10px;
		box-shadow: 0 8px 16px rgba(0, 0, 0, 0.15);
	}

	.countdown-section h2 {
		font-size: 1.8rem;
		margin-bottom: 1.5rem;
	}

	.countdown {
		display: flex;
		justify-content: center;
		gap: 1.5rem;
		margin: 2rem 0;
		flex-wrap: wrap;
	}

	.countdown-item {
		display: flex;
		flex-direction: column;
		align-items: center;
		margin: 0.5rem;
		transition: transform 0.3s ease;
	}

	.countdown-item:hover {
		transform: translateY(-5px);
	}

	.countdown-item span:first-child {
		font-size: 2.5rem;
		font-weight: bold;
		background-color: rgba(255, 255, 255, 0.2);
		border-radius: 8px;
		padding: 0.5rem 1rem;
		min-width: 70px;
		text-align: center;
		box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
	}

	.countdown-label {
		font-size: 1rem;
		margin-top: 0.5rem;
		font-weight: 600;
	}

	/* Estilos para la sección inferior */
	.conteinerBottom {
		background-color: white;
		margin-top: 2rem;
	}

	.location-section h3 {
		font-size: 2rem;
		color: var(--primary-color);
		margin-bottom: 1.5rem;
	}

	.map-container {
		margin: 1.5rem 0;
		border-radius: 10px;
		overflow: hidden;
	}

	.map-container h3 {
		font-size: 1.5rem;
		color: var(--primary-color);
		margin-bottom: 1rem;
		margin-top: 0rem;
	}

	.map-container iframe {
		width: 100%;
		height: 400px;
		border: none;
	}

	/* Estilos para la galería de imágenes */
	.gallery-section {
		margin: 2rem 0;
		padding: 1.5rem;
		background-color: rgba(255, 255, 255, 0.7);
		border-radius: 10px;
	}

	.gallery-section h2 {
		color: var(--accent-color);
		font-size: 2rem;
		margin-bottom: 1.5rem;
		text-align: center;
	}

	.slider-container {
		position: relative;
		max-width: 600px;
		margin: 0 auto;
		border-radius: 15px;
		overflow: visible;
	
		padding: 0 150px;
	}

	.slider {
		position: relative;
		width: 100%;
		height: 400px;
	}

	.slide {
		position: absolute;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		opacity: 0;
		transition: all 0.5s ease-in-out;
		transform: scale(0.9);
		filter: blur(2px);
		z-index: 1;
	}

	.slide.active {
		opacity: 1;
		transform: scale(1);
		filter: blur(0);
		z-index: 3;
	}

	.slide.prev, .slide.next {
		opacity: 0.6;
		z-index: 2;
		filter: blur(3px);
	}

	.slide.prev {
		transform: translateX(-25%) scale(0.85);
	}

	.slide.next {
		transform: translateX(25%) scale(0.85);
	}

	.slide img {
		width: 100%;
		height: 100%;
		object-fit: cover;
		border-radius: 15px;
	}

	.slider-btn {
		position: absolute;
		top: 50%;
		transform: translateY(-50%);
		background-color: var(--accent-color);
		color: white;
		border: none;
		padding: 1rem;
		cursor: pointer;
		font-size: 1.2rem;
		border-radius: 50%;
		transition: all 0.3s ease;
		z-index: 10;
		box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
	}

	.slider-btn:hover {
		background-color: var(--primary-color);
		transform: translateY(-50%) scale(1.1);
		box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
	}

	.prev-btn {
		left: 10px;
	}

	.next-btn {
		right: 10px;
	}

	.slider-dots {
		text-align: center;
		padding: 1rem 0;
	
		border-radius: 1rem;
	}

	.dot {
		display: inline-block;
		width: 12px;
		height: 12px;
		margin: 0 5px;
		background-color: #bbb;
		border-radius: 50%;
		cursor: pointer;
		transition: background-color 0.3s ease;
	}

	.dot.active,
	.dot:hover {
		background-color: var(--accent-color);
	}

	/* Media queries para responsividad */
	@media (max-width: 768px) {
		.container {
			padding: 1.5rem;
			margin: 1rem;
		}

		.title {
			font-size: 2rem;
		}

		.name {
			font-size: 2.5rem;
		}

		.date-location p {
			font-size: 1.2rem;
		}

		.message h3 {
			font-size: 1.5rem;
		}

		.imguno {
			max-width: 90%;
		}

		.countdown {
			gap: 1rem;
		}

		.countdown-item span:first-child {
			font-size: 2rem;
			min-width: 60px;
		}

		.map-container iframe {
			height: 300px;
		}

		/* Estilos responsivos para la galería */
		.slider-container {
			padding: 0 50px;
			overflow: hidden;
		}

		.slider {
			height: 300px;
		}

		.slider-btn {
			padding: 0.8rem;
			font-size: 1rem;
		}

		.prev-btn {
			left: 5px;
		}

		.next-btn {
			right: 5px;
		}

		/* Ajustar previsualizaciones en tablet */
		.slide.prev {
			transform: translateX(-10%) scale(0.95);
			filter: blur(2px);
		}

		.slide.next {
			transform: translateX(10%) scale(0.95);
			filter: blur(2px);
		}
	}

	@media (max-width: 480px) {
		.container {
			padding: 1rem;
			margin: 0.5rem;
		}

		.title {
			font-size: 1.8rem;
		}

		.name {
			font-size: 2rem;
		}

		.date-location p {
			font-size: 1rem;
		}

		.message h3 {
			font-size: 1.2rem;
		}

		.event-details h2, .rsvp-section h2 {
			font-size: 1.5rem;
		}

		.event-details p {
			font-size: 1rem;
		}

		.countdown-section {
			width: 90%;
			padding: 1rem 0.5rem;
		}

		.countdown-section h2 {
			font-size: 1.4rem;
			margin-bottom: 1rem;
		}

		.countdown {
			flex-wrap: wrap;
			gap: 0.5rem;
			justify-content: space-around;
		}

		.countdown-item {
			margin: 0.3rem;
			width: calc(50% - 1rem);
		}

		.countdown-item span:first-child {
			font-size: 1.5rem;
			min-width: 50px;
			padding: 0.3rem 0.8rem;
		}

		.countdown-label {
			font-size: 0.9rem;
		}

		.map-container iframe {
			height: 250px;
		}

		.rsvp-button {
			padding: 0.6rem 1.5rem;
			font-size: 1rem;
		}

		/* Estilos responsivos para la galería en móviles pequeños */
		.slider-container {
			padding: 0;
			overflow: hidden;
		}

		.slider {
			height: 250px;
		}

		.slider-btn {
			padding: 0.6rem;
			font-size: 0.9rem;
		}

		.gallery-section {
			padding: 1rem;
		}

		.gallery-section h2 {
			font-size: 1.5rem;
		}

		/* Eliminar transformaciones translateX en móviles pequeños */
		.slide.prev, .slide.next {
			transform: scale(0.95);
			opacity: 0.2;
			filter: none;
		}

		.slide {
			transform: scale(0.95);
		}
	}
</style>